<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lucky Draw System</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <!-- Setup Modal -->
    <div id="setupModal" class="modal">
        <div class="modal-content">
            <h1>Lucky Draw Setup</h1>
            

            <!-- Ticket Builder with Buttons -->
            <div class="ticket-builder">
                <div class="builder-header">
                    <h3>Add Tickets</h3>
                    <button id="quickLaunchBtn" class="quick-launch-btn">Quick Launch</button>
                </div>

                <!-- Number Range -->
                <div class="selector-group">
                    <label>Number Range</label>
                    <div class="number-range">
                        <input type="number" id="numberFrom" class="number-input" placeholder="From" min="1" max="100">
                        <span class="range-separator">-</span>
                        <input type="number" id="numberTo" class="number-input" placeholder="To" min="1" max="100">
                    </div>
                </div>

                <div class="builder-buttons">
                    <button id="addRangeBtn" class="add-btn">Add Range to List</button>
                    <button id="add100Btn" class="add-btn secondary">Add 1-100</button>
                </div>

                <!-- Advanced Settings Toggle -->
                <div class="advanced-toggle">
                    <button id="advancedToggleBtn" class="toggle-btn">
                        <span class="toggle-icon">â–¶</span> Advanced Settings
                    </button>
                </div>

                <!-- Advanced Settings (Collapsible) -->
                <div id="advancedSettings" class="advanced-settings hidden">
                    <!-- Color Buttons -->
                    <div class="selector-group">
                        <label>Color</label>
                        <div class="color-buttons">
                            <button class="color-btn blue-btn" data-color="Blue">Blue</button>
                            <button class="color-btn red-btn" data-color="Red">Red</button>
                            <button class="color-btn green-btn" data-color="Green">Green</button>
                            <button class="color-btn orange-btn active" data-color="Purple">Purple</button>
                        </div>
                    </div>

                    <!-- Letter Buttons -->
                    <div class="selector-group">
                        <label>Letter</label>
                        <div class="letter-buttons">
                            <button class="letter-btn" data-letter="A">A</button>
                            <button class="letter-btn" data-letter="B">B</button>
                            <button class="letter-btn" data-letter="C">C</button>
                            <button class="letter-btn active" data-letter="D">D</button>
                            <button class="letter-btn" data-letter="E">E</button>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Manual Entry Section -->
            <div class="manual-entry">
                <h3>Ticket List <span class="ticket-count">(0 tickets)</span></h3>
                <textarea id="ticketInput" placeholder="Blue-A-1&#10;Blue-A-2&#10;Red-B-3&#10;..." rows="8"></textarea>
            </div>

            <div class="setup-actions">
                <button id="generateSampleBtn" class="secondary-btn">Generate Sample 100</button>
                <button id="clearTicketsBtn" class="secondary-btn">Clear All</button>
                <button id="startDrawBtn" class="primary-btn">Start Drawing</button>
            </div>

            <div id="setupError" class="error-message"></div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="hidden">
        <header>
            <h1>Lucky Draw System</h1>
        </header>

        <div class="container">
            <!-- Control Panel -->
            <section class="control-panel">
                <h2>Draw Controls</h2>

                <!-- Quick Presets -->
                <div class="quick-presets">
                    <!-- Top Row: Main Prizes (Bigger) -->
                    <div class="preset-row main-prizes">
                        <button class="preset-btn main-prize" data-prize="1st Prize" data-winners="3" data-icon="1">
                            <span class="prize-number">1</span>
                            <span class="btn-text">1st Prize</span>
                        </button>
                        <button class="preset-btn main-prize" data-prize="2nd Prize" data-winners="2" data-icon="2">
                            <span class="prize-number">2</span>
                            <span class="btn-text">2nd Prize</span>
                        </button>
                        <button class="preset-btn main-prize" data-prize="3rd Prize" data-winners="2" data-icon="3">
                            <span class="prize-number">3</span>
                            <span class="btn-text">3rd Prize</span>
                        </button>
                    </div>

                    <!-- Bottom Row: Other Prizes -->
                    <div class="preset-row other-prizes">
                        <button class="preset-btn" data-prize="Noodle" data-winners="30" data-icon="fa-bowl-rice">
                            <i class="fa-solid fa-bowl-rice"></i>
                            <span class="btn-text">Noodle</span>
                        </button>
                        <button class="preset-btn" data-prize="Gift Cards" data-winners="30" data-icon="fa-gift">
                            <i class="fa-solid fa-gift"></i>
                            <span class="btn-text">Gift Cards</span>
                        </button>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group compact">
                        <label for="prizeName">Prize Name:</label>
                        <input type="text" id="prizeName" placeholder="e.g., Prize A">
                    </div>

                    <div class="form-group compact">
                        <label for="numWinners">Winners:</label>
                        <div class="input-with-presets">
                            <div class="number-control">
                                <button class="control-btn minus-btn" id="decreaseWinners">-</button>
                                <input type="number" id="numWinners" min="1" value="" placeholder="0">
                                <button class="control-btn plus-btn" id="increaseWinners">+</button>
                            </div>
                            <div class="number-presets">
                                <button class="num-preset" data-num="1">1</button>
                                <button class="num-preset" data-num="2">2</button>
                                <button class="num-preset" data-num="15">15</button>
                                <button class="num-preset" data-num="30">30</button>
                            </div>
                        </div>
                    </div>
                </div>

                <button id="drawBtn" class="draw-btn">DRAW</button>

                <!-- Display Options Bar -->
                <div class="options-bar">
                    <!-- Ticket Format Toggle -->
                    <div class="option-item">
                        <label class="toggle-switch">
                            <input type="checkbox" id="showFullFormat" checked>
                            <span class="toggle-slider"></span>
                        </label>
                        <span class="option-label">Show Color & Letter</span>
                    </div>

                    <!-- Animation Toggle -->
                    <div class="option-item">
                        <label class="toggle-switch">
                            <input type="checkbox" id="enableAnimation" checked>
                            <span class="toggle-slider"></span>
                        </label>
                        <span class="option-label">Animation</span>
                    </div>

                    <!-- Display Mode Toggle -->
                    <div class="option-item">
                        <label class="toggle-switch">
                            <input type="checkbox" id="iconMode">
                            <span class="toggle-slider"></span>
                        </label>
                        <span class="option-label">Icon Mode</span>
                    </div>
                </div>

                <div id="drawError" class="error-message"></div>

                <!-- Recent Winners Display -->
                <div id="winnersDisplay" class="winners-display hidden">
                    <h3>Winners:</h3>
                    <div id="winnersList" class="winners-list"></div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button id="undoBtn" class="secondary-btn" disabled>Undo Last Draw</button>
                    <button id="exportBtn" class="secondary-btn">Export to CSV</button>
                </div>

                <!-- Reset Button (Separated) -->
                <div class="reset-section">
                    <button id="resetBtn" class="reset-btn">Reset</button>
                </div>
            </section>

            <!-- History Panel -->
            <section class="history-panel">
                <div class="history-header">
                    <h2>Draw History</h2>
                    <div class="pool-status">
                        <span class="pool-label">Tickets Remaining</span>
                        <span id="poolCount" class="pool-count">100</span>
                    </div>
                </div>
                <div id="historyList" class="history-list">
                    <p class="no-history">No draws yet</p>
                </div>
            </section>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
